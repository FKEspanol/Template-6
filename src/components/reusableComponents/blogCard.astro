---
import { Icon } from "astro-icon";
import Section from "./section.astro";
import Button from "./button.astro";
const posts = await Astro.glob("../../pages/blogposts/*.md");
---

<Section>
    <div class="md:flex flex-wrap">
        {
            posts.map((post) => {
                return (
                    <div class="xl:w-2/6 lg:w-1/2 lg:px-3 py-3">
                        <div class="bg-white h-full shadow-lg group">
                            <div class="overflow-hidden">
                                <img
                                    src={post.frontmatter.image}
                                    alt=""
                                    class="w-full group-hover:scale-125 transtion-all duration-500"
                                />
                            </div>
                            <div class="p-7">
                                <h3 class="heading-dark text-2xl font-bold mb-4 group-hover:text-primary transition-all duration-500">
                                    {post.frontmatter.title}
                                </h3>
                                <div class="flex items-center mb-4 gap-x-5 p-dark">
                                    <div class="flex items-center">
                                        <Icon
                                            name="mdi:user"
                                            class="w-6 text-primary inline-block mr-2"
                                        />
                                        <cite>{post.frontmatter.author}</cite>
                                    </div>
                                    /
                                    <div class="flex items-center">
                                        <Icon
                                            name="mdi:folder"
                                            class="w-5 text-primary inline-block  mr-2"
                                        />
                                        <cite>{post.frontmatter.topic}</cite>
                                    </div>
                                </div>
                                <p class="mb-6 text-base leading-6 text-gray-500">
                                    {post.frontmatter.excerpt}
                                </p>
                                <hr />
                                <br />
                                <a href={`/${post.frontmatter.slug}`}>
                                    <Button className="bg-primary text-dark font-bold">
                                        Read More
                                    </Button>
                                </a>
                            </div>
                        </div>
                    </div>
                );
            })
        }
    </div>
</Section>
